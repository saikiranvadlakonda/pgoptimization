<div class="row folders-details folder-parent">
  <div class="col-xs-12 col-lg-12 col-xl-12 col-md-12">
    <div class="row">
      <div class="col-sm-8 col-md-8 col-lg-8">
        <h4 class="pageTitle p-l-0 m-t-10">
          <span class="folderBackMain">
            <i class="fa fa-angle-left angleLeft backArrowButton" (click)="navigateToParentFolder()"></i>
          </span>
          <span class="folderName pointer" *ngIf="!isEnableFolderEdit">{{breadCrumb}}</span>

        </h4>
      </div>
      <div class="col-sm-4 col-md-4 col-lg-4 text-right">
        <span class="foldersButton" *ngIf="false" (click)="OnSaveToFolderClick()">
          <span class="fa fa-download saveButton boxshadow"></span>
        </span>
        <span class="foldersButton" *ngIf="false">
          <span class="ti-settings  saveButton boxshadow cog"></span>
        </span>
        <span class="foldersButton" *ngIf="false" (click)="deleteFolder()">
          <span class="fa fa-trash saveButton boxshadow"></span>
        </span>
        <span class="foldersButton" *ngIf="false">
          <span class="icon-action-redo icons saveButton boxshadow sharei"></span>
        </span>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-xs-12 col-lg-12 col-xl-12 col-md-12">
    <div class="card-box border-radius-0 folders-details p-0 my-folders">
      <div class="row myfolders-header">
        <div class="col-xs-12 col-md-6 col-lg-4 col-xl-4">
          <div class="noOfFilesinFolder">You have {{files?.length}} file(s) {{FoldersCount}} folder(s) in this folder</div>
        </div>
        <div class="col-xs-12 col-lg-8 col-xl-8 col-md-9">
          <div class="searchNewFolder parentfolders text-right my-folders">
            <div id="custom-search-input-top" class="FilterSearch1">
              <input type="text" [(ngModel)]="fileFolderName" class="form-control input-lg downloadsSearchInput img-responsive" placeholder="Search within this folder">
              <span class="input-group-btn">
                <button class="btn btn-info btn-lg searchbutton" type="button">
                  <i class="fa fa-search Filtersearchbutton" style="color: white;"></i>
                </button>
              </span>
            </div>
            <span class="newFolder">
              <a [ngClass]="(isEnableNewFolder)? 'btn btn-sm btn-custom waves-effect waves-light pull-xs-right folderbtn pointer' : 'btn btn-sm btn-custom waves-effect waves-light pull-xs-right folderbtn pointer disableCursor'"
                 (click)="newFolderBtnClick()"><i class="zmdi zmdi-plus"></i>New Folder</a>
            </span>
          </div>
        </div>

      </div>



      <h5 class="folderListTitle">Folders</h5>
      <div class="table-rep-plugin">
        <div class="table-responsive">
          <table class="contentbrowsertble">
            <tr>
              <th>NAME</th>
              <th>DATE CREATED</th>
              <th>LAST UPDATED</th>
              <th>SHARING</th>
              <th></th>
            </tr>
            <tr *ngFor="let folder of folders | filter: fileFolderName; let i = index">
              <td>
                <div class="folderIconDetailMain" (click)="navigateToFolder(folder)" *ngIf="!folder?.isNewFolder">
                  <div class="folderIconIndetail col-sm-6 col-md-2 col-lg-2">
                    <i class="icon-folder-alt icons"></i>
                  </div>
                  <div class="fileNameCount  col-sm-6 col-md-10 col-lg-10" *ngIf="!folder?.isNewFolder && !folder?.isEnableEdit">
                    <div class="folderName p-l-0">
                      <span>{{folder?.folderName}}</span>
                    </div>
                    <div class="noOfFolders" *ngIf="!folder?.isNewFolder">{{folder?.fileCount}} File(s) , {{folder?.folderCount}} Folder(s)</div>
                  </div>
                </div>
                <div class="folderIconDetailMain" *ngIf="folder?.isNewFolder">
                  <div class="folderIconIndetail  col-sm-6 col-md-2 col-lg-2">
                    <i class="icon-folder-alt icons"></i>
                  </div>
                  <div class="fileNameCount  col-sm-6 col-md-10 col-lg-10">
                    <span>
                      <input type="text" name="name" [(ngModel)]="folder.folderName" (keydown)="onKeyDown($event,folder,'New')" />
                      <i class="fa fa-save editPencilButton pointer" (click)="saveNewFolder(folder)"></i>
                      <i class="fa fa-close editPencilButton pointer" (click)="cancelNewFolder()"></i>
                    </span>
                    <div *ngIf="folder?.isValid == false"> Folder name is required</div>
                  </div>
                </div>
                <div *ngIf="folder?.isEnableEdit">
                  <input type="text" name="name" [(ngModel)]="folder.folderName" (keydown)="onKeyDown($event,folder,'Edit')" />
                  <i class="fa fa-save editPencilButton pointer" (click)="editChildFolder(folder)"></i>
                  <i class="fa fa-close editPencilButton pointer" (click)="cancelEdit(folder)"></i>
                  <div *ngIf="folder?.isValid == false"> Folder name is required</div>
                </div>
              </td>
              <td><div class="dateTimeContent">{{folder?.dateCreated | date}}</div></td>
              <td><div class="dateTimeContent" *ngIf="!folder?.isNewFolder">{{getDays(folder?.lastAccessedDate)}} day(s) ago</div>
                  <div class="dateTimeContent" *ngIf="folder?.isNewFolder"> - </div>
                </td>
              <td><div class="dateTimeContent" *ngIf="!folder?.isNewFolder">Standard</div></td>
              <td align="center">
                <div class="btn-group" dropdown placement="bottom right" *ngIf="!folder?.isNewFolder">
                  <button id="button-alignment" dropdownToggle type="button"
                          class="btn folderListBtn" aria-controls="dropdown-alignment">
                    <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                  </button>
                  <ul id="dropdown-alignment" *dropdownMenu class="dropdown-menu dropdown-menu-right"
                      role="menu" aria-labelledby="button-alignment">
                    <li role="menuitem" (click)="enableEdit(folder)"><a class="dropdown-item">Rename</a></li>
                    <li role="menuitem" (click)="deleteFolder(folder)"><a class="dropdown-item">Delete</a></li>
                  </ul>
                </div>
              </td>
            </tr>
          </table>
        </div>
      </div>


      <p *ngIf="(folders | filter: fileFolderName)?.length == 0" class="folderListTitle">No Folders To Display</p>
      <p>&nbsp;</p>
      <div *ngIf="!isSaveToFolder">
        <h5 class="folderListTitle">Files</h5>
        <div class="table-rep-plugin">
          <div class="table-responsive">
            <table class="contentbrowsertble">
              <tr>
                <th>NAME</th>
                <th>DATE CREATED</th>
                <th>LAST UPDATED</th>
                <th>SHARING</th>
                <th></th>
              </tr>
              <tr *ngFor="let file of files|filter:fileFolderName; let i = index">
                <td>
                  <div class="folderIconDetailMain" (click)="navigateToContent(file.url)" *ngIf="!folder?.isNewFolder">
                    <div class="folderIconIndetail col-sm-6 col-md-2 col-lg-2">
                      <!--<i class="icon-file-alt icons"></i>-->
                      <i class="fa fa-file-text-o"></i>
                    </div>
                    <div class="fileNameCount  col-sm-6 col-md-10 col-lg-10">
                      <div class="folderName p-l-0">
                        <span>{{file.title}}</span>
                      </div>
                    </div>
                  </div>
                </td>
                <td><div class="dateTimeContent">{{file?.dateAdded | date}}</div></td>
                <td><div class="dateTimeContent">{{file?.lastAccessedDate | date}}</div></td>
                <td><div class="dateTimeContent">Standard</div></td>
                <td>
                  <div class="btn-group" dropdown placement="bottom right" *ngIf="!folder?.isNewFolder">
                    <button id="button-alignment" dropdownToggle type="button"
                            class="btn folderListBtn" aria-controls="dropdown-alignment">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul id="dropdown-alignment" *dropdownMenu class="dropdown-menu dropdown-menu-right"
                        role="menu" aria-labelledby="button-alignment">
                      <li role="menuitem" (click)="navigateToContent(file.url,file.title)"><a class="dropdown-item">View/Download</a></li>
                      <li role="menuitem" (click)="deleteFile(file)"><a class="dropdown-item">Delete</a></li>
                    </ul>
                  </div>

                </td>
              </tr>
            </table>
          </div>
        </div>

        <p *ngIf="(files | filter: fileFolderName)?.length == 0" class="noOfFilesinFolder nofilesmsg">
          No Files To Display
        </p>
      </div>

      <!-- end row -->
    </div>
  </div>
  <hr />
  <button type="button" *ngIf="isSaveToFolder" class="btn btn-primary pull-left" (click)="popUpCloseClick()">Close</button>
  <button type="button" *ngIf="isSaveToFolder" class="btn btn-primary pull-right" (click)="OnSaveToFolderClick()">Save to this Folder</button>
</div>



